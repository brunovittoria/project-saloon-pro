/################# BACKEND #################\

rodar: 

npm run dev

#1 Configuraçao Inicial

COMMANDS USED:

npm init -y
npm install typescript --save-dev
npm i express
npm install @types/express --save-dev
npx tsc --init
npm i cors cookie-parser dotenv jsonwebtoken morgan nodemon bcrypt
npm i ts-node-dev typescript --save-dev   //Serve pro TS entender nossos imports


Agora vamos criar o script pra rodar nosso projeto:

  "scripts": {
    "dev": "ts-node-dev --transpile-only src/server.ts",
    "test": "echo \"Error: no test specified\" && exit 1"
  },

Agora testamos nossas rotas e td funciona


#2 Tratando Erros da API

Usar dep:

npm i express-async-errors

tratar no file server.ts os erros

Instalaçao e configuraçao do cors como typagem TS:
npm i @types/cors --save-dev


#3 Conectando ao DB

Agora iremos conectar o postgreSQL + BEEKEEPER + PRISMA

Rodamos o cmd no diretorio do project SERVER: 

npm install prisma --save-dev
npm i @prisma/client
npx prisma init

Mudar URL no file .env para a certa do postgreSQL e pronto conectou.

#4 Criando Tabelas

Vamos configurar o prisma, entao vamos criar uma pasta com nome prisma dentro do src

Depois devemos modelar nosso DB dentro do nosso SCHEMA que esta na cartella fora do src "prisma"

Vamos precisar de tabelas para:

- Cadastro de User 
- Endereço User
- Tabela para armazenar Serviços
- Tabela Clientes do User
- Tabela Relacionada entre SERVICE x CLIENTE
- Tabela Equipe do User

(Exemplo VISUAL das relacoes na aula: "CRIANDO TABELAS")

Agora vamos criar o modelo user em nosso schema.prisma na PASTA PRISMA

OBS: PARA IDENTIFICAR AS RELACOES NAS TABELAS BASTA OLHAR PARA O FIGMA E ENTENDER QUAIS AS RELACOES DENTRO DO APP

Feito os modelos devemos rodar um comando para rodar as relacoes das tabelas:

npx prisma migrate dev

Nome das tables: create_table